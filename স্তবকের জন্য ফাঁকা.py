import string

def clean_string_lines(text: str) -> str:
    """
    একটি মাল্টি-লাইন স্ট্রিংকে পরিষ্কার করে।

    নিয়মাবলী:
    ১. লাইনের মাঝের একাধিক স্পেসকে একটি স্পেসে পরিণত করে।
    ২. লাইনের শেষের যতিচিহ্ন (punctuation) মুছে দেয়।
    ৩. লাইনের শুরু এবং শেষের অতিরিক্ত স্পেস মুছে দেয়।
    """
    cleaned_lines = []
    
    # পাইথনের সব যতিচিহ্নগুলো একটি ভ্যারিয়েবলে রাখা হলো
    # !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~
    all_punctuation = string.punctuation + '।' '॥'

    # স্ট্রিংটিকে প্রতিটি লাইনে ভাগ করা হলো
    for line in text.splitlines():
        
        # নিয়ম ৩: লাইনের শুরু এবং শেষের অতিরিক্ত স্পেস মুছে দেওয়া হলো
        stripped_line = line.strip()
        
        # নিয়ম ১: একাধিক স্পেসকে একটিতে পরিণত করা হলো
        # প্রথমে .split() দিয়ে শব্দগুলো আলাদা করা হয়, যা নিজে থেকেই একাধিক স্পেস মুছে দেয়।
        # তারপর ' '.join() দিয়ে শব্দগুলোকে একটি স্পেস দিয়ে জুড়ে দেওয়া হয়।
        words = stripped_line.split()
        normalized_space_line = ' '.join(words)
        
        # নিয়ম ২: লাইনের শেষে থাকা যেকোনো যতিচিহ্ন মুছে দেওয়া হলো
        # .rstrip() ফাংশনটি স্ট্রিং-এর শেষ থেকে দেওয়া সেটের সব অক্ষর মুছে দেয়।
        final_line = normalized_space_line.rstrip(all_punctuation)
        
        cleaned_lines.append(final_line)
    
    # পরিষ্কার করা লাইনগুলোকে আবার নতুন লাইন দিয়ে জুড়ে একটি সম্পূর্ণ স্ট্রিং তৈরি করা হলো
    return '\n'.join(cleaned_lines)

# --- পরীক্ষার জন্য উদাহরণ ---
sample_text = """
সই		ভালো ক’রে বিনোদ–বেণী বাঁধিয়া দে
মোর		বঁধু যেন বাঁধা থাকে বিননী–ফাঁদে।।
সই		বাঁধিতে সে বাঁধন–হারা বনের হরিণ
সই		জড়ায়ে দে জরীণ ফিতা মোহন ছাঁদে।।
সই		চপল পুরুষ সে তাই কুরুশ কাঁটায়
		রাখিব খোঁপারি সাথে বিঁধিয়া লো তায়।
তাহে		রেশমি জাল বিছায়ে দে ধরিতে চাঁদে।।
		প্রথম প্রণয়–রাগের মত আলতা রঙে
		রাঙায়ে দে চরণ মোর এমনি ঢঙে।
সই		পায়ে ধ’রে সে যেন লো আমারে সাধে
"""

# ফাংশনটি ব্যবহার করে আউটপুট দেখা
cleaned_text = clean_string_lines(sample_text)

print("\n" + "="*20 + "\n")
print("--- পরিষ্কার করা টেক্সট ---")
print(cleaned_text)
